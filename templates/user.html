<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <!--- basic page needs
    ================================================== -->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Generic Page - Ffood</title>

        <script>
            document.documentElement.classList.remove("no-js");
            document.documentElement.classList.add("js");
        </script>

        <!-- CSS
    ================================================== -->
        <!-- Font Awesome -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <!-- Google Fonts -->
        <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
        />
        <!-- MDB -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/vendor.css') }}"
        />
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='css/styles.css') }}"
        />

        <!-- favicons
    ================================================== -->
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="favicon-16x16.png"
        />
        <link
            rel="manifest"
            href="{{ url_for('static', filename='site.webmanifest') }}"
        />
        <!-- MDB -->
        <script
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.js"
        ></script>
        <script
            type="module"
            src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
        ></script>
        <script
            nomodule
            src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
        ></script>
    </head>

    <body id="top">
        <!-- preloader
    ================================================== -->
        <div id="preloader">
            <div id="loader" class="dots-fade">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
        <!-- page wrap
    ================================================== -->
        <div id="page" class="s-pagewrap">
            <div class="menu-underlay"></div>

            <!-- # site header 
        ================================================== -->
            <header class="s-header">
                <div class="s-header__block">
                    <a class="s-header__menu-toggle" href="#0"
                        ><span>Browse</span></a
                    >
                </div>
                <!-- end s-header__block -->

                <nav class="s-header__nav">
                    <a href="#0" class="s-header__nav-close-btn" title="close"
                        ><span>Close</span></a
                    >

                    <div class="s-header__nav-logo">
                        <a href="index.html">
                            <img
                                src="{{ url_for('static', filename='images/logo.svg')}}"
                                alt="Homepage"
                            />
                        </a>
                    </div>
                    <ul class="s-header__nav-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li>
                            <a href="#" onclick="window.location.href='/logout'"
                                >Log Out</a
                            >
                        </li>
                    </ul>
                </nav>
                <!-- end s-header__nav -->
            </header>
            <!-- end s-header -->

            <!-- # main content
        ================================================== -->
            <article class="s-content">
                <!-- ## pageheader -->
                <section
                    class="s-pageheader pageheader"
                    style="background-image: url({{ url_for('static', filename='images/pageheader/pageheader-generic-bg-3000.jpg') }});"
                >
                    <div class="row">
                        <div class="column xl-12 s-pageheader__content">
                            <h1 class="page-title">Generic Page</h1>
                        </div>
                    </div>
                </section>
            </article>
            <!-- end main content -->
            <main>
                <!-- Tabs navs -->
                <ul
                    class="nav nav-tabs my-3 d-flex justify-content-center font-size-2rem"
                    id="ex-with-icons"
                    role="tablist"
                >
                    <li class="nav-item" role="presentation">
                        <a
                            onclick="resetFrame()"
                            style="font-size: large"
                            class="nav-link active"
                            id="ex-with-icons-tab-1"
                            data-mdb-toggle="tab"
                            href="#ex-with-icons-tabs-1"
                            role="tab"
                            aria-controls="ex-with-icons-tabs-1"
                            aria-selected="false"
                            ><i class="fas fa-magnifying-glass"></i
                            ><span style="padding-left: 1rem"
                                >Search Food</span
                            ></a
                        >
                    </li>
                    <li class="nav-item" role="presentation">
                        <a
                            onclick="resetFrame()"
                            style="font-size: large"
                            class="nav-link"
                            id="ex-with-icons-tab-2"
                            data-mdb-toggle="tab"
                            href="#ex-with-icons-tabs-2"
                            role="tab"
                            aria-controls="ex-with-icons-tabs-2"
                            aria-selected="true"
                            ><i class="fas fa-arrow-up-from-bracket"></i
                            ><span style="padding-left: 1rem"
                                >Upload Image</span
                            ></a
                        >
                    </li>
                    <li class="nav-item" role="presentation" id="open">
                        <a
                            onclick="resetFrame()"
                            style="font-size: large"
                            class="nav-link"
                            id="ex-with-icons-tab-3"
                            data-mdb-toggle="tab"
                            href="#ex-with-icons-tabs-3"
                            role="tab"
                            aria-controls="ex-with-icons-tabs-3"
                            aria-selected="false"
                            ><i class="fas fa-camera"></i
                            ><span style="padding-left: 1rem"
                                >Take An Image</span
                            ></a
                        >
                    </li>
                </ul>
                <!-- Tabs navs -->

                <!-- Tabs content -->
                <div class="tab-content" id="ex-with-icons-content">
                    <div
                        class="tab-pane fade show active"
                        id="ex-with-icons-tabs-1"
                        role="tabpanel"
                        aria-labelledby="ex-with-icons-tab-1"
                    >
                        <form
                            id="searchForm"
                            method="post"
                            enctype="multipart/form-data"
                            action="/process_text"
                            class="text-center mt-5"
                            style="display: flex; justify-content: center"
                        >
                            <div
                                class="rform__bottom column xl-12"
                                style="width: 88%"
                            >
                                <div class="row">
                                    <div class="column xl-9 tab-12">
                                        <input
                                            id="searchName"
                                            name="searchName"
                                            placeholder="Enter the dish name ... "
                                            class="d-block form-control font-size-2rem"
                                            accept="image/png, image/gif, image/jpeg"
                                        />
                                    </div>
                                    <div class="column xl-3 tab-12">
                                        <button
                                            name="submitSearch"
                                            id="submitSearch"
                                            class="btn btn--primary btn-wide btn--large u-fullwidth"
                                            type="submit"
                                            style="height: 41px; line-height: 1"
                                        >
                                            <i class="fab fa-searchengin"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div
                        class="tab-pane fade"
                        id="ex-with-icons-tabs-2"
                        role="tabpanel"
                        aria-labelledby="ex-with-icons-tab-2"
                    >
                        <form
                            id="imageForm"
                            method="post"
                            enctype="multipart/form-data"
                            action="/process_image"
                            class="text-center mt-5"
                            style="display: flex; justify-content: center"
                        >
                            <div
                                class="rform__bottom column xl-12"
                                style="width: 88%"
                            >
                                <div class="row">
                                    <div class="column xl-9 tab-12">
                                        <input
                                            type="file"
                                            id="photoId"
                                            name="photo"
                                            class="d-block form-control font-size-2rem"
                                            accept="image/png, image/gif, image/jpeg"
                                            onchange="displayImage(this)"
                                        />
                                    </div>
                                    <div class="column xl-3 tab-12">
                                        <button
                                            name="submit"
                                            id="submit"
                                            class="btn btn--primary btn-wide btn--large u-fullwidth"
                                            type="submit"
                                            style="height: 41px; line-height: 1"
                                        >
                                            <i class="fab fa-searchengin"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div
                        class="tab-pane fade"
                        id="ex-with-icons-tabs-3"
                        role="tabpanel"
                        aria-labelledby="ex-with-icons-tab-3"
                    >
                        <div class="row">
                            <div class="column xl-12 tab-12">
                                <div
                                    class="d-flex justify-content-center gap-4 my-3"
                                >
                                    <video
                                        title="Camera"
                                        id="camera"
                                        width="400"
                                        height="400"
                                        autoplay
                                        style="object-fit: cover"
                                    ></video>
                                    <canvas
                                        title="Photograph"
                                        id="canvas"
                                        width="400"
                                        height="400"
                                    ></canvas>
                                </div>

                                <div
                                    class="d-flex gap-4 justify-content-center"
                                >
                                    <button
                                        id="snap"
                                        style="
                                            height: 41px;
                                            width: fit-content;
                                            line-height: 1;
                                        "
                                        class="btn btn--primary btn-wide btn--large u-fullwidth"
                                    >
                                        <i class="fas fa-camera"></i>
                                    </button>
                                    <button
                                        id="search"
                                        class="btn btn--primary btn-wide btn--large u-fullwidth"
                                        style="
                                            height: 41px;
                                            width: fit-content;
                                            line-height: 1;
                                            display: none;
                                        "
                                    >
                                        <i class="fab fa-searchengin"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- </div>
                </form> -->
                    </div>
                </div>
                <!-- Tabs content -->

                <div class="row" id="takePicture" style="display: none">
                    <div>
                        <h3 class="text-center mt-0">Search Results</h3>
                        <div class="container text-center">
                            <p>Name of food: <span id="nameResult"></span></p>
                            <img
                                src=""
                                class="img-thumbnail"
                                id="imageResult"
                                style="
                                    max-width: 50%;
                                    height: 400px;
                                    object-fit: cover;
                                "
                            />
                        </div>

                        <h3 class="text-center mt-0">Similar dishes</h3>
                        <div
                            id="renderObj"
                            class="row d-flex justify-content-center items-center"
                        ></div>

                        <div class="d-flex justify-content-center mb-10">
                            <button
                                id="seeMore"
                                class="btn btn--primary btn-wide btn--large u-fullwidth"
                                style="
                                    height: 41px;
                                    line-height: 1;
                                    display: none;
                                    width: fit-content;
                                "
                            >
                                See more
                            </button>
                            <button
                                id="seeLess"
                                class="btn btn--primary btn-wide btn--large u-fullwidth"
                                style="
                                    height: 41px;
                                    line-height: 1;
                                    display: none;
                                    max-width: 200px;
                                "
                            >
                                See less
                            </button>
                        </div>
                    </div>
                </div>
                <div class="container" id="searchResult" style="display: none">
                    <h3 class="text-center mt-0">Search Results</h3>
                    <div class="row" id="listItemSearch"></div>
                </div>
            </main>
            <!-- # gallery
        ================================================== -->
            <section id="gallery" class="s-gallery">
                <div class="row s-gallery__inner">
                    <div class="column xl-12">
                        <div class="gallery-items grid-list-items">
                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-01.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-01.jpg')}}"
                                        srcset="
                                            {{url_for('static', filename='images/gallery/gallery-01.jpg ')}}  1x,
                                            images/gallery/gallery-01@2x.jpg 2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-02.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-02.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-02.jpg')}} 1x,
                                            images/gallery/gallery-02@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->

                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-03.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-03.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-03.jpg')}} 1x,
                                            images/gallery/gallery-03@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->

                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-04.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-04.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-04.jpg')}} 1x,
                                            images/gallery/gallery-04@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->

                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-05.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-05.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-05.jpg')}} 1x,
                                            images/gallery/gallery-05@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->

                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-06.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-06.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-06.jpg')}} 1x,
                                            images/gallery/gallery-06@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->

                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-07.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-07.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-07.jpg')}} 1x,
                                            images/gallery/gallery-07@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->

                            <div
                                class="gallery-items__item grid-list-items__item"
                            >
                                <a
                                    href="{{ url_for('static', filename='images/gallery/large/l-gallery-08.jpg')}}"
                                    class="gallery-items__item-thumb glightbox"
                                >
                                    <img
                                        src="{{url_for('static', filename='images/gallery/gallery-08.jpg')}}"
                                        srcset="
                                            {{url_for('static',
                                            filename='images/gallery/gallery-08.jpg')}} 1x,
                                            images/gallery/gallery-08@2x.jpg            2x
                                        "
                                        alt=""
                                    />
                                </a>
                            </div>
                            <!-- end gallery-items__item -->
                        </div>
                        <!-- end grid-list-items -->
                    </div>
                </div>
                <!-- end s-gallery__inner -->
            </section>
            <!-- end s-gallery -->
            <!-- # footer 
        ================================================== -->
            <footer id="footer" class="s-footer">
                <!-- end  s-footer__main-content -->

                <div class="row s-footer__bottom">
                    <div class="column xl-6 lg-12">
                        <ul class="s-footer__social social-list">
                            <li>
                                <a href="#0">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        style="fill: rgba(0, 0, 0, 1)"
                                    >
                                        <path
                                            d="M20,3H4C3.447,3,3,3.448,3,4v16c0,0.552,0.447,1,1,1h8.615v-6.96h-2.338v-2.725h2.338v-2c0-2.325,1.42-3.592,3.5-3.592 c0.699-0.002,1.399,0.034,2.095,0.107v2.42h-1.435c-1.128,0-1.348,0.538-1.348,1.325v1.735h2.697l-0.35,2.725h-2.348V21H20 c0.553,0,1-0.448,1-1V4C21,3.448,20.553,3,20,3z"
                                        ></path>
                                    </svg>
                                    <span class="u-screen-reader-text"
                                        >Facebook</span
                                    >
                                </a>
                            </li>
                            <li>
                                <a href="#0">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        style="fill: rgba(0, 0, 0, 1)"
                                    >
                                        <path
                                            d="M19.633,7.997c0.013,0.175,0.013,0.349,0.013,0.523c0,5.325-4.053,11.461-11.46,11.461c-2.282,0-4.402-0.661-6.186-1.809 c0.324,0.037,0.636,0.05,0.973,0.05c1.883,0,3.616-0.636,5.001-1.721c-1.771-0.037-3.255-1.197-3.767-2.793 c0.249,0.037,0.499,0.062,0.761,0.062c0.361,0,0.724-0.05,1.061-0.137c-1.847-0.374-3.23-1.995-3.23-3.953v-0.05 c0.537,0.299,1.16,0.486,1.82,0.511C3.534,9.419,2.823,8.184,2.823,6.787c0-0.748,0.199-1.434,0.548-2.032 c1.983,2.443,4.964,4.04,8.306,4.215c-0.062-0.3-0.1-0.611-0.1-0.923c0-2.22,1.796-4.028,4.028-4.028 c1.16,0,2.207,0.486,2.943,1.272c0.91-0.175,1.782-0.512,2.556-0.973c-0.299,0.935-0.936,1.721-1.771,2.22 c0.811-0.088,1.597-0.312,2.319-0.624C21.104,6.712,20.419,7.423,19.633,7.997z"
                                        ></path>
                                    </svg>
                                    <span class="u-screen-reader-text"
                                        >Twitter</span
                                    >
                                </a>
                            </li>
                            <li>
                                <a href="#0">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        style="fill: rgba(0, 0, 0, 1)"
                                    >
                                        <path
                                            d="M11.999,7.377c-2.554,0-4.623,2.07-4.623,4.623c0,2.554,2.069,4.624,4.623,4.624c2.552,0,4.623-2.07,4.623-4.624 C16.622,9.447,14.551,7.377,11.999,7.377L11.999,7.377z M11.999,15.004c-1.659,0-3.004-1.345-3.004-3.003 c0-1.659,1.345-3.003,3.004-3.003s3.002,1.344,3.002,3.003C15.001,13.659,13.658,15.004,11.999,15.004L11.999,15.004z"
                                        ></path>
                                        <circle
                                            cx="16.806"
                                            cy="7.207"
                                            r="1.078"
                                        ></circle>
                                        <path
                                            d="M20.533,6.111c-0.469-1.209-1.424-2.165-2.633-2.632c-0.699-0.263-1.438-0.404-2.186-0.42 c-0.963-0.042-1.268-0.054-3.71-0.054s-2.755,0-3.71,0.054C7.548,3.074,6.809,3.215,6.11,3.479C4.9,3.946,3.945,4.902,3.477,6.111 c-0.263,0.7-0.404,1.438-0.419,2.186c-0.043,0.962-0.056,1.267-0.056,3.71c0,2.442,0,2.753,0.056,3.71 c0.015,0.748,0.156,1.486,0.419,2.187c0.469,1.208,1.424,2.164,2.634,2.632c0.696,0.272,1.435,0.426,2.185,0.45 c0.963,0.042,1.268,0.055,3.71,0.055s2.755,0,3.71-0.055c0.747-0.015,1.486-0.157,2.186-0.419c1.209-0.469,2.164-1.424,2.633-2.633 c0.263-0.7,0.404-1.438,0.419-2.186c0.043-0.962,0.056-1.267,0.056-3.71s0-2.753-0.056-3.71C20.941,7.57,20.801,6.819,20.533,6.111z M19.315,15.643c-0.007,0.576-0.111,1.147-0.311,1.688c-0.305,0.787-0.926,1.409-1.712,1.711c-0.535,0.199-1.099,0.303-1.67,0.311 c-0.95,0.044-1.218,0.055-3.654,0.055c-2.438,0-2.687,0-3.655-0.055c-0.569-0.007-1.135-0.112-1.669-0.311 c-0.789-0.301-1.414-0.923-1.719-1.711c-0.196-0.534-0.302-1.099-0.311-1.669c-0.043-0.95-0.053-1.218-0.053-3.654 c0-2.437,0-2.686,0.053-3.655c0.007-0.576,0.111-1.146,0.311-1.687c0.305-0.789,0.93-1.41,1.719-1.712 c0.534-0.198,1.1-0.303,1.669-0.311c0.951-0.043,1.218-0.055,3.655-0.055c2.437,0,2.687,0,3.654,0.055 c0.571,0.007,1.135,0.112,1.67,0.311c0.786,0.303,1.407,0.925,1.712,1.712c0.196,0.534,0.302,1.099,0.311,1.669 c0.043,0.951,0.054,1.218,0.054,3.655c0,2.436,0,2.698-0.043,3.654H19.315z"
                                        ></path>
                                    </svg>
                                    <span class="u-screen-reader-text"
                                        >Instagram</span
                                    >
                                </a>
                            </li>
                            <li>
                                <a href="#0">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        style="fill: rgba(0, 0, 0, 1)"
                                    >
                                        <path
                                            d="M8.31 10.28a2.5 2.5 0 1 0 2.5 2.49 2.5 2.5 0 0 0-2.5-2.49zm0 3.8a1.31 1.31 0 1 1 0-2.61 1.31 1.31 0 1 1 0 2.61zm7.38-3.8a2.5 2.5 0 1 0 2.5 2.49 2.5 2.5 0 0 0-2.5-2.49zM17 12.77a1.31 1.31 0 1 1-1.31-1.3 1.31 1.31 0 0 1 1.31 1.3z"
                                        ></path>
                                        <path
                                            d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm7.38 10.77a3.69 3.69 0 0 1-6.2 2.71L12 16.77l-1.18-1.29a3.69 3.69 0 1 1-5-5.44l-1.2-1.3H7.3a8.33 8.33 0 0 1 9.41 0h2.67l-1.2 1.31a3.71 3.71 0 0 1 1.2 2.72z"
                                        ></path>
                                        <path
                                            d="M14.77 9.05a7.19 7.19 0 0 0-5.54 0A4.06 4.06 0 0 1 12 12.7a4.08 4.08 0 0 1 2.77-3.65z"
                                        ></path>
                                    </svg>
                                    <span class="u-screen-reader-text"
                                        >Tripadvisor</span
                                    >
                                </a>
                            </li>
                        </ul>
                    </div>
                    <!-- end section-footer__social -->

                    <div class="column xl-6 lg-12">
                        <p class="ss-copyright">
                            <span>© Copyright Ffood 2023</span>
                        </p>
                    </div>
                </div>
                <!-- end section-footer__bottom -->

                <div class="ss-go-top">
                    <a class="smoothscroll" title="Back to Top" href="#top">
                        <svg
                            clip-rule="evenodd"
                            fill-rule="evenodd"
                            stroke-linejoin="round"
                            stroke-miterlimit="2"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="m14.523 18.787s4.501-4.505 6.255-6.26c.146-.146.219-.338.219-.53s-.073-.383-.219-.53c-1.753-1.754-6.255-6.258-6.255-6.258-.144-.145-.334-.217-.524-.217-.193 0-.385.074-.532.221-.293.292-.295.766-.004 1.056l4.978 4.978h-14.692c-.414 0-.75.336-.75.75s.336.75.75.75h14.692l-4.979 4.979c-.289.289-.286.762.006 1.054.148.148.341.222.533.222.19 0 .378-.072.522-.215z"
                                fill-rule="nonzero"
                            />
                        </svg>
                    </a>
                    <span>Back To Top</span>
                </div>
                <!-- end ss-go-top -->
            </footer>
            <!-- end s-footer -->
        </div>
        <!-- end page-wrap -->

        <!-- Java Script
    ================================================== -->

        <script src="{{ url_for('static', filename='js/plugins.js') }}"></script>
        <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    </body>
</html>
<script>
    let video = document.getElementById("camera");
    let canvas = document.getElementById("canvas");
    let context = canvas.getContext("2d");
    let snapButton = document.getElementById("snap");
    let submitButton = document.getElementById("submit");
    let openButton = document.getElementById("open");
    let searchButton = document.getElementById("search");
    let uploadFunction = document.getElementById("uploadFunction");
    let takePicture = document.getElementById("takePicture");
    let takePictureId = document.getElementById("takePictureId");
    let takePictureName = document.getElementById("takePictureName");
    let takePictureRecipe = document.getElementById("takePictureRecipe");
    let detailInfor = document.getElementById("detailInfor");
    let renderObj = document.getElementById("renderObj");
    let seeMore = document.getElementById("seeMore");
    let seeLess = document.getElementById("seeLess");
    let nameResult = document.getElementById("nameResult");
    let imageResult = document.getElementById("imageResult");
    let photoId = document.getElementById("photoId");
    let listItemSearch = document.getElementById("listItemSearch");
    let searchName = document.getElementById("searchName");
    let searchResult = document.getElementById("searchResult");
    let currentStream;

    function convertString(inputString) {
        return inputString.split("|").join("<br>");
    }
    function convertStringDotded(inputString) {
        return inputString.split(".").join(".<br>");
    }

    openButton.addEventListener("click", function (e) {
        e.preventDefault();
        navigator.mediaDevices
            .getUserMedia({ video: true })
            .then((stream) => {
                currentStream = stream;
                video.srcObject = stream;
                video.play();
            })
            .catch((err) => {
                console.log(`Error: ${err}`);
            });
    });
    snapButton.addEventListener("click", function (e) {
        e.preventDefault();
        context.drawImage(video, 0, 0, 400, 400);
        let imgData = canvas.toDataURL("image/png");
        searchButton.style.display = "block";
    });
    searchButton.addEventListener("click", function (e) {
        e.preventDefault();
        let imgData = canvas.toDataURL("image/png");

        fetch("/process_base64", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({ image_data: imgData }),
        })
            .then((response) => response.json())
            .then((data) => {
                nameResult.innerText = data.label;
                imageResult.setAttribute("src", imgData);
                takePicture.style.display = "block";
                renderDetail(data.detail);
            })
            .catch((error) => console.error("Error:", error));
    });

    document
        .getElementById("imageForm")
        .addEventListener("submit", function (event) {
            event.preventDefault();
            uploadImage();
        });

    function uploadImage() {
        let formData = new FormData(document.getElementById("imageForm"));
        console.log(formData);
        fetch("/process_image", {
            method: "POST",
            body: formData,
        })
            .then((response) => response.json())
            .then((data) => {
                nameResult.innerText = data.label;
                takePicture.style.display = "block";
                renderDetail(data?.detail);
            })
            .catch((error) => console.error("Error:", error));
    }
    document
        .getElementById("searchForm")
        .addEventListener("submit", function (event) {
            event.preventDefault();
            searchByText();
        });

    function searchByText() {
        fetch("/process_text", {
            method: "POST",
            body: JSON.stringify({ searchName: searchName.value }),
            headers: {
                "Content-Type": "application/json",
            },
        })
            .then((response) => response.json())
            .then((data) => {
                let dataJson = data.hits.map((i) => {
                    const item = i.recipe;
                    return `<div class="col-md-4 mb-4">
                                <a href="${item.url}" style="color: #fff;">
                                    <div class="card">
                                        <img
                                            src="${item.image}"
                                            class="card-img-top mb-0"
                                            alt="${item.label}"
                                        />
                                        <div class="card-body">
                                            <div class="card-body">
                                                <button
                                                    class="icon-0 btn-wide btn--large u-fullwidth u-overflow-hidden"
                                                >
                                                    ${item.label}
                                                    <div class="icon-1">
                                                        <svg
                                                            xmlns="http://www.w3.org/2000/svg"
                                                            xml:space="preserve"
                                                            version="1.1"
                                                            style="
                                                                shape-rendering: geometricPrecision;
                                                                text-rendering: geometricPrecision;
                                                                image-rendering: optimizeQuality;
                                                                fill-rule: evenodd;
                                                                clip-rule: evenodd;
                                                            "
                                                            viewBox="0 0 26.3 65.33"
                                                            xmlns:xlink="http://www.w3.org/1999/xlink"
                                                        >
                                                            <g
                                                                id="Layer_x0020_1"
                                                            >
                                                                <metadata
                                                                    id="CorelCorpID_0Corel-Layer"
                                                                ></metadata>
                                                                <path
                                                                    class="fil0"
                                                                    d="M13.98 52.87c0.37,-0.8 0.6,-1.74 0.67,-2.74 1.01,1.1 2.23,2.68 1.24,3.87 -0.22,0.26 -0.41,0.61 -0.59,0.97 -2.95,5.89 3.44,10.87 2.98,0.78 0.29,0.23 0.73,0.82 1.03,1.18 0.33,0.4 0.7,0.77 1,1.15 0.29,0.64 -0.09,2.68 1.77,4.91 5.42,6.5 5.67,-2.38 0.47,-4.62 -0.41,-0.18 -0.95,-0.26 -1.28,-0.54 -0.5,-0.41 -1.23,-1.37 -1.66,-1.9 0.03,-0.43 -0.17,-0.13 0.11,-0.33 4.98,1.72 8.4,-1.04 2.38,-3.16 -1.98,-0.7 -2.9,-0.36 -4.72,0.16 -0.63,-0.58 -2.38,-3.82 -2.82,-4.76 1.21,0.56 1.72,1.17 3.47,1.3 6.5,0.5 2.31,-4.21 -2.07,-4.04 -1.12,0.04 -1.62,0.37 -2.49,0.62l-1.25 -3.11c0.03,-0.26 0.01,-0.18 0.1,-0.28 1.35,0.86 1.43,1 3.25,1.45 2.35,0.15 3.91,-0.15 1.75,-2.4 -1.22,-1.27 -2.43,-2.04 -4.22,-2.23l-2.08 0.13c-0.35,-0.58 -0.99,-2.59 -1.12,-3.3l-0.01 -0.01 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0c-0.24,-0.36 1.88,1.31 2.58,1.57 1.32,0.49 2.6,0.33 3.82,0 -0.37,-1.08 -1.17,-2.31 -2.13,-3.11 -1.79,-1.51 -3.07,-1.41 -5.22,-1.38l-0.93 -4.07c0.41,-0.57 1.41,0.9 2.82,1.36 0.96,0.31 1.94,0.41 3,0.14 2,-0.52 -2.25,-4.4 -4.53,-4.71 -0.7,-0.1 -1.23,-0.04 -1.92,-0.03 -0.46,-0.82 -0.68,-3.61 -0.92,-4.74 0.8,0.88 1.15,1.54 2.25,2.23 0.8,0.5 1.58,0.78 2.57,0.85 2.54,0.18 -0.1,-3.47 -0.87,-4.24 -1.05,-1.05 -2.34,-1.59 -4.32,-1.78l-0.33 -3.49c0.83,0.67 1.15,1.48 2.3,2.16 1.07,0.63 2.02,0.89 3.58,0.79 0.15,-1.34 -1.07,-3.39 -2.03,-4.3 -1.05,-0.99 -2.08,-1.47 -3.91,-1.68l-0.07 -3.27 0.32 -0.65c0.44,0.88 1.4,1.74 2.24,2.22 0.69,0.39 2.4,1.1 3.44,0.67 0.31,-1.92 -1.84,-4.49 -3.5,-5.29 -0.81,-0.39 -1.61,-0.41 -2.18,-0.68 -0.12,-1.28 0.27,-3.23 0.37,-4.55l-0.89 0c-0.06,1.28 -0.35,3.12 -0.34,4.31 -0.44,0.45 -0.37,0.42 -0.96,0.64 -3.88,1.49 -4.86,6.38 -3.65,7.34 1.42,-0.31 3.69,-2.14 4.16,-3.66 0.23,0.5 0.1,2.36 0.05,3.05 -1.23,0.4 -2.19,1.05 -2.92,1.82 -1.17,1.24 -2.36,4.04 -1.42,5.69 1.52,0.09 4.07,-2.49 4.49,-4.07l0.29 3.18c-2.81,0.96 -5.01,3.68 -4.18,7.43 2.06,-0.09 3.78,-2.56 4.66,-4.15 0.23,1.45 0.67,3.06 0.74,4.52 -1.26,0.93 -2.37,1.8 -2.97,3.55 -0.48,1.4 -0.49,3.72 0.19,4.55 0.59,0.71 2.06,-1.17 2.42,-1.67 1,-1.35 0.81,-1.92 1.29,-2.46l0.7 3.44c-0.49,0.45 -0.94,0.55 -1.5,1.19 -1.93,2.23 -2.14,4.33 -1.01,6.92 0.72,0.09 2.04,-1.4 2.49,-2.06 0.65,-0.95 0.79,-1.68 1.14,-2.88l0.97 2.92c-0.2,0.55 -1.84,1.32 -2.6,3.62 -0.54,1.62 -0.37,3.86 0.67,4.93 0.58,-0.09 1.85,-1.61 2.2,-2.19 0.66,-1.09 0.66,-1.64 1,-2.93l1.32 3.18c-0.23,0.72 -1.63,1.72 -1.82,4.18 -0.17,2.16 1.11,6.88 3.13,2.46zm-4.09 -16.89l-0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 -0 0.01 0.01z"
                                                                ></path>
                                                            </g>
                                                        </svg>
                                                    </div>
                                                    <div class="icon-2">
                                                        <svg
                                                            xmlns="http://www.w3.org/2000/svg"
                                                            xml:space="preserve"
                                                            version="1.1"
                                                            style="
                                                                shape-rendering: geometricPrecision;
                                                                text-rendering: geometricPrecision;
                                                                image-rendering: optimizeQuality;
                                                                fill-rule: evenodd;
                                                                clip-rule: evenodd;
                                                            "
                                                            viewBox="0 0 11.67 37.63"
                                                            xmlns:xlink="http://www.w3.org/1999/xlink"
                                                        >
                                                            <g
                                                                id="Layer_x0020_1"
                                                            >
                                                                <metadata
                                                                    id="CorelCorpID_0Corel-Layer"
                                                                ></metadata>
                                                                <path
                                                                    class="fil0"
                                                                    d="M7.63 35.26c-0.02,0.13 0.01,0.05 -0.06,0.14 -0,0 -0.08,0.07 -0.11,0.1 -0.42,0.25 -0.55,0.94 -0.23,1.4 0.68,0.95 2.66,0.91 3.75,0.21 0.2,-0.13 0.47,-0.3 0.57,-0.49 0.09,-0.02 0.04,0.03 0.11,-0.07l-1.35 -1.24c-0.78,-0.78 -1.25,-1.9 -2.07,-0.62 -0.11,0.18 -0.06,0.16 -0.22,0.26 -0.4,-0.72 -0.95,-1.79 -1.26,-2.59 0.82,0.02 1.57,-0.12 2.16,-0.45 0.49,-0.27 1.15,-0.89 1.33,-1.4 0.1,-0.06 0.02,0.01 0.06,-0.1 -0.24,-0.16 -0.87,-0.37 -1.19,-0.52 -0.4,-0.19 -0.73,-0.39 -1.09,-0.62 -0.25,-0.16 -0.85,-0.6 -1.18,-0.3 -0.35,0.32 -0.32,0.83 -0.53,1.17 -0.71,-0.3 -0.55,-0.26 -0.84,-1.22 -0.15,-0.5 -0.31,-1.12 -0.41,-1.66l0.03 -0.13c0.56,0.23 1.28,0.37 1.99,0.28 0.56,-0.07 1.33,-0.42 1.62,-0.71l0.1 -0.1c-0.74,-0.68 -1.09,-1.2 -1.65,-1.99 -1.09,-1.52 -1.2,-0.28 -1.92,0.17 -0.26,-0.79 -0.73,0.2 -0.12,-2.76 0.06,-0.3 0.19,-0.7 0.2,-0.98 0.18,0.08 0.01,-0.01 0.11,0.08 0.05,0.05 0.07,0.07 0.1,0.12 0.94,1.17 3.63,0.82 4.21,0.01 0.13,-0.02 0.06,0.03 0.1,-0.1 -1.14,-0.81 -1.91,-2.89 -2.58,-2.67 -0.29,0.09 -0.78,0.63 -0.93,0.87 -0.54,-0.48 -0.36,-0.63 -0.38,-0.81 0.01,-0.01 0.03,-0.04 0.03,-0.03 0.01,0.02 0.36,-0.35 0.45,-0.6 0.13,-0.35 0.04,-0.65 -0.05,-0.95 0.06,-0.41 0.33,-1.33 0.28,-1.71 0.22,-0.05 0.19,0.05 0.45,0.17 0.47,0.23 1.17,0.33 1.7,0.32 0.62,-0 1.74,-0.39 1.94,-0.75 0.14,-0.02 0.05,0.06 0.13,-0.09 -1.05,-1.1 -0.7,-0.64 -1.62,-1.92 -0.58,-0.81 -0.9,-1.27 -1.9,0.12 -0.44,-0.5 -0.64,-0.69 -0.66,-1.24 0.02,-0.31 0.15,-0.36 0.08,-0.73 -0.04,-0.24 -0.14,-0.41 -0.29,-0.59l-0.47 -2.54c0.09,-0.14 -0.09,-0.1 0.2,-0.05 0.06,0.01 0.19,0.05 0.3,0.07 0.54,0.09 1.47,0.01 1.95,-0.15 0.57,-0.19 1.53,-0.8 1.68,-1.18 0.16,-0.07 0.05,0.02 0.15,-0.13 -0.12,-0.15 -0.95,-0.65 -1.15,-0.8 -1.43,-1.08 -2.21,-2.77 -3.16,-0.38 -0.2,-0.1 -0.75,-0.55 -0.83,-0.74 -0.15,-0.35 -0.21,-0.81 -0.37,-1.15l-0.1 -0.25c-0.03,-0.3 -0.44,-1.33 -0.57,-1.64 -0.2,-0.51 -0.47,-1.09 -0.64,-1.6l-0.55 0c0.14,0.42 0.36,0.84 0.53,1.28 0.12,0.3 0.19,0.35 0.06,0.66l-0.21 0.52c-0.01,0.01 -0.01,0.02 -0.02,0.03 -0.06,0.1 -0.03,0.05 -0.06,0.09 -1.44,-1.03 -1.66,-0.73 -2.07,0.46 -0.16,0.46 -0.3,0.93 -0.5,1.36l-0.64 1.28c0.06,0.07 -0,0.03 0.1,0.03 0.05,0.05 0.02,0.03 0.1,0.08l0.49 0.14c0.23,0.05 0.44,0.09 0.66,0.1 0.55,0.04 0.94,-0.06 1.35,-0.19 0.54,-0.18 1.09,-0.44 1.5,-0.82 0.15,-0.14 0.24,-0.3 0.4,-0.41l0.46 1.66c0.03,0.74 -0.09,0.6 0.27,1.21 0.01,0.01 0.01,0.02 0.02,0.03 0.01,0.01 0.01,0.02 0.02,0.04l0.07 0.11c-0.02,0.22 0.19,1.01 0.24,1.29 0.09,0.46 -0.21,0.79 -0.3,1.2 -0.55,-0.23 -1.25,-1.06 -1.66,-0.23 -0.12,0.25 -0.17,0.36 -0.26,0.62 -0.33,1.01 -0.63,1.61 -1.06,2.43l0.12 0.04 0.23 0.11c0.06,0.02 0.17,0.04 0.25,0.06 0.17,0.04 0.34,0.08 0.52,0.09 0.29,0.02 0.93,0.07 1.12,-0.13 0.42,0.01 1.24,-0.49 1.51,-0.71 0.01,0.01 0.03,0 0.04,0.02l0.09 0.06c-0.04,0.29 0.02,0.41 0.03,0.7l-0.05 1.41c-0.06,1.12 -0.29,1.06 -0.76,1.69 -0.08,-0.07 -0.03,-0.01 -0.11,-0.11 -0.03,-0.03 -0.06,-0.08 -0.09,-0.11 -0.2,-0.25 -0.38,-0.54 -0.7,-0.69 -0.7,-0.32 -1.52,1.73 -2.82,2.61 0.04,0.2 -0.01,0.06 0.1,0.11 0.25,0.3 1,0.67 1.5,0.78 0.35,0.08 0.71,0.08 1.09,0.05 0.25,-0.02 0.82,-0.16 0.92,-0.13 -0.16,0.69 -0.35,1.35 -0.52,2.03 -0.25,1 -0.03,0.77 -0.98,1.53 -0.3,-0.31 -0.33,-0.77 -0.77,-1.02 -0.42,-0.25 -0.91,0.35 -1.12,0.55 -0.33,0.32 -0.58,0.6 -0.97,0.89 -0.19,0.14 -0.34,0.26 -0.53,0.4 -0.14,0.11 -0.43,0.29 -0.53,0.4 0.1,0.15 -0.02,0.06 0.15,0.13 0.09,0.22 0.35,0.38 0.54,0.52 0.22,0.16 0.43,0.29 0.69,0.39 0.43,0.17 1.32,0.31 1.87,0.23l0.23 -0.05c0.01,-0 0.03,-0.02 0.04,-0.02 0.01,-0 0.02,-0.01 0.03,-0.02 0.32,0.05 0.52,-0.18 0.79,-0.24l-0.02 0.66c0,0.77 -0.24,0.75 0.16,1.51l0.04 0.07c0,0.01 0.01,0.03 0.02,0.04 -0.05,0.35 0.18,1.03 0.24,1.4 -0.23,0.18 -0.34,0.33 -0.51,0.41 -0.75,-1.17 -0.82,-1.52 -1.92,-0.43 -0.32,0.31 -0.59,0.57 -0.95,0.86 -0.23,0.19 -0.95,0.65 -1.05,0.81l0.13 0.1c0.88,1.15 3.14,1.5 4.1,0.82 0.47,-0.34 0.54,-0.56 0.52,-1.34l0.67 1.84c0.03,0.16 0.06,0.28 0.12,0.42 0.03,0.06 0.05,0.12 0.09,0.17 0.1,0.15 0.03,0.06 0.13,0.14 -0,0.29 0.14,0.22 0.06,0.56 -0.03,0.13 -0.14,0.43 -0.19,0.53 -1.94,-1.27 -1.57,-0.02 -2.28,1.76 -0.16,0.41 -0.37,0.77 -0.53,1.2 0.09,0.08 0.01,0.03 0.15,0.03 0.29,0.33 1.66,0.28 2.36,-0.01 0.48,-0.2 0.96,-0.46 1.3,-0.82 0.15,-0.16 0.16,-0.3 0.38,-0.33 0.14,0.08 0.17,0.19 0.27,0.36zm-3.62 -12.85c0.13,-0.01 0.31,-0.15 0.55,-0.19 -0.01,0.45 0.02,0.74 -0.34,0.45 -0.06,-0.05 -0.09,-0.06 -0.12,-0.09 -0.09,-0.1 -0.04,-0.01 -0.09,-0.17zm1.92 -12.29l-0.04 0.13c-0.07,-0.02 -0.17,-0.02 -0.21,-0.03 -0.27,-0.08 -0.09,0.04 -0.16,-0.16 0.12,-0.08 0.18,-0.23 0.34,-0.35l0.08 0.4zm1.33 3.05l-0.4 0.17c-0,-0.08 -0,-0.15 -0.02,-0.23 -0.02,-0.09 -0.03,-0.07 -0.05,-0.11l0.07 -0.16c0.21,0.11 0.28,0.16 0.4,0.32zm-1.54 6.48l0.16 -0.51c0.17,0.07 0.25,0.14 0.36,0.29l-0.52 0.22zm0.28 10.88l-0.09 -0.38 0.37 0.07c-0.02,0.1 -0.03,0.13 -0.09,0.19 -0.13,0.15 0.01,0.06 -0.19,0.12zm-1.05 -5.97c0.06,0.12 0.16,0.16 0.26,0.23 -0.09,0.14 -0.22,0.18 -0.37,0.21 -0,-0.02 -0.02,-0.27 -0.02,-0.27 0.04,-0.19 -0.06,-0.09 0.13,-0.16zm1.03 -8.01c-0.09,-0.02 -0.15,-0.02 -0.22,-0.07 -0.21,-0.13 -0.08,-0.02 -0.14,-0.18 0.15,-0.05 0.21,-0.15 0.45,-0.24l-0.08 0.48zm0.57 16.58l-0.45 -0c0.02,-0.18 0.12,-0.3 0.26,-0.42l0.18 0.42zm-1.45 -3.7l-0.19 -0.23c-0.06,-0.07 -0.1,-0.13 -0.17,-0.19 -0.24,-0.23 -0.29,-0.14 -0.36,-0.36l0.46 -0.19c0.07,0.14 0.25,0.78 0.26,0.97zm0.37 -23.67l-0.12 -0.57 0.54 0.21c-0.07,0.16 -0.27,0.31 -0.41,0.36zm-1.46 -3.02c-0.07,0.01 -0.19,-0.04 -0.3,-0.06 -0.04,-0.01 -0.14,-0.02 -0.18,-0.03 -0.15,-0.07 -0.06,0.04 -0.14,-0.13 0.11,-0.07 0.2,-0.27 0.37,-0.4 0.13,0.13 0.2,0.43 0.24,0.62z"
                                                                ></path>
                                                            </g>
                                                        </svg>
                                                    </div>
                                                    <div class="icon-3">
                                                        <svg
                                                            xmlns="http://www.w3.org/2000/svg"
                                                            xml:space="preserve"
                                                            version="1.1"
                                                            style="
                                                                shape-rendering: geometricPrecision;
                                                                text-rendering: geometricPrecision;
                                                                image-rendering: optimizeQuality;
                                                                fill-rule: evenodd;
                                                                clip-rule: evenodd;
                                                            "
                                                            viewBox="0 0 25.29 76.92"
                                                            xmlns:xlink="http://www.w3.org/1999/xlink"
                                                        >
                                                            <g
                                                                id="Layer_x0020_1"
                                                            >
                                                                <metadata
                                                                    id="CorelCorpID_0Corel-Layer"
                                                                ></metadata>
                                                                <path
                                                                    class="fil0"
                                                                    d="M19.14 6.58c0.09,0.1 -0.02,0.03 0.17,0.15 0.04,0.03 0.19,0.09 0.27,0.13l0.16 0.02c0.12,0.14 0.02,0.06 0.22,0.18 0.63,0.37 1.81,0.52 2.51,0.53 0.42,-0.26 0.61,-1.58 0.55,-2.27 -0.11,-1.17 -1.02,-3.42 -2.17,-3.76 -0.84,-0.25 -1.19,0.02 -1.4,0.7 -0.03,0.1 -0.05,0.19 -0.09,0.28l-0.18 0.25c-0.18,-0.36 -0.77,-0.97 -1.2,-1.18 -0.64,-0.31 -0.36,-0.26 -0.84,-1.59l-0.75 0c0.2,0.63 0.44,1.27 0.61,1.92 0.17,0.64 0.47,1.46 0.58,2.05 -0.21,0.36 -0.43,0.5 -0.31,1.1 0.11,0.51 0.35,0.71 0.76,0.9 0.13,0.31 0.36,1.33 0.39,1.78 -0.68,0.24 -1.38,0.85 -1.62,1.43 -0.45,-0.47 -0.29,-1.59 -1.59,-1.22 -0.8,0.22 -1.09,0.8 -1.45,1.52 -0.58,1.18 -0.96,2.15 -0.6,3.58 0.04,0.17 0.13,0.4 0.19,0.55 0.11,0.29 0.09,0.34 0.35,0.44 1.74,-0.01 2.96,-0.82 4.13,-1.55 0.22,-0.13 0.65,-0.39 0.79,-0.62 0.74,-1.2 -0.74,-2.14 -1.7,-2.43 -0.01,-0.51 1.07,-0.87 1.7,-0.82 0.21,1.74 0.56,3.5 0.61,5.33 0.05,2.05 0.01,3.68 -0.08,5.71 -1.2,0.52 -0.99,0.65 -1.77,1.46 -0.39,-0.45 -0.22,-1.6 -1.59,-1.18 -0.79,0.24 -0.91,0.63 -1.42,1.55 -0.78,1.41 -0.95,2.66 -0.36,4.15 0.14,0.35 0.06,0.36 0.36,0.37 0.78,-0 1.47,-0.18 2.09,-0.43 0.51,-0.2 1.26,-0.76 1.69,-0.86 -0.18,0.3 -0.34,0.91 -0.48,1.25l-1.54 3.5c-1.75,0.08 -1.26,0.29 -2.27,0.59 0.1,-1.15 0.1,-1.69 -1.1,-1.78 -0.7,-0.05 -1.5,0.65 -1.91,0.96 -1.04,0.82 -1.93,1.81 -1.94,3.77 0.09,0.22 -0.03,0.09 0.18,0.11 0.24,0.36 1.4,0.49 1.94,0.58l0.19 -0.01 0.71 -0.01 0.08 -0.02 1.74 -0.17c0.25,0.04 0.03,-0.07 0.19,0.09l-2.62 4.74c-0.28,0.51 -0.56,1.2 -0.86,1.61 -0.44,-0.02 -0.69,-0.14 -1.18,-0.08 -0.38,0.04 -0.72,0.17 -1.08,0.22 0.1,-0.53 0.78,-1.5 -0.62,-1.96 -0.79,-0.26 -1.74,0.32 -2.33,0.6 -2.12,1.02 -2.81,3.28 -2.36,3.38 0.01,0.01 0.03,0.02 0.03,0.04l0.11 0.1c0.42,0.34 1.16,0.64 1.66,0.79 0.65,0.19 1.73,0.31 2.43,0.38 3,0.28 1.16,-2.8 1.09,-3.14 0.86,0.12 1.3,-0.05 1.81,0.56 -0.08,0.35 -0.53,1.2 -0.71,1.6 -0.74,1.61 -1.24,3.24 -1.73,4.96 -0.92,0.11 -1.11,0.44 -1.77,0.69 0.01,-1.08 0.1,-1.68 -1.14,-1.71 -0.55,-0.01 -0.8,0.17 -1.11,0.41 -1.43,1.08 -2.52,2.24 -2.53,4.15 -0,0.62 0.11,0.48 0.22,0.54 0.63,0.38 1.79,0.44 2.67,0.35 0.47,-0.05 0.97,-0.11 1.43,-0.2l0.98 -0.22c0.38,-0.08 0.14,-0.15 0.26,0.06 -0.08,0.78 -0.66,2.6 -0.56,3.29 -0.13,0.14 -0.07,0.08 -0.17,0.29 -0.06,0.13 -0.08,0.18 -0.12,0.33 -0.07,0.3 -0.02,0.6 -0.03,0.92 -0.09,0.94 -0.17,0.52 -0.78,0.94 -0.32,0.22 -0.57,0.55 -0.86,0.82 -0.29,-0.69 -0.22,-1.44 -1.39,-1.13 -0.93,0.25 -1.93,2.19 -2.03,3.16 -0.06,0.56 0.02,1.84 0.39,2.08 2,0.02 2.64,-0.6 4.08,-1.25l-0.01 0.28c-0.06,0.58 -0.22,2.09 -0.14,2.62 -0.44,0.37 -0.46,1.03 -0.12,1.49 -0.08,3.97 0.16,2.73 -0.77,3.57 -0.24,0.21 -0.37,0.4 -0.62,0.62 -0.36,-0.53 -0.09,-1.43 -1.37,-1.13 -0.98,0.23 -1.92,2.22 -2.06,3.14 -0.07,0.47 -0.07,1.79 0.41,2.09 0.86,0.04 1.94,-0.12 2.51,-0.52l0.16 -0.08c0.6,-0.17 1.39,-0.67 1.84,-0.94 0.12,0.18 0.04,0.07 0.14,0.1 -0.18,0.38 -0.31,0.07 -0.71,0.58 -0.67,0.86 0.33,1.72 0.89,2.31 0.6,0.64 1.71,1.63 2.94,1.88 0.38,-0.11 0.92,-1.2 1.04,-1.69 0.21,-0.86 0.15,-1.53 -0.05,-2.41 -0.22,-0.94 -0.24,-1.38 -1.01,-1.81 -0.93,-0.52 -1.19,0.28 -1.59,0.76 -0.21,-0.33 -0.33,-0.79 -0.58,-1.12 -0.48,-0.62 -0.48,-0.13 -0.5,-1.22 -0.02,-1.09 0.05,-2.25 0.01,-3.32 0.37,0.22 0.89,0.86 1.37,1.21 0.51,0.37 1.05,0.65 1.76,0.82 0.32,-0.02 0.92,-1.21 1.04,-1.68 0.22,-0.87 0.15,-1.53 -0.04,-2.41 -0.19,-0.86 -0.3,-1.41 -0.96,-1.79 -1.06,-0.6 -1.26,0.38 -1.71,0.74 -0.22,-0.8 -0.65,-1.34 -1.19,-1.71l0.5 -4.35 0.38 0.28c0.23,0.25 0.6,0.67 0.87,0.82 0.07,0.1 0.05,0.1 0.19,0.21 0.18,0.23 0.66,0.57 0.92,0.6 0.1,0.13 -0.01,0.03 0.16,0.16 0.08,0.06 0.1,0.07 0.18,0.11 0.14,0.07 0.26,0.1 0.44,0.15l0.45 0.17c0.35,0.08 0.75,-0.74 0.91,-1.05 0.21,-0.4 0.41,-1.07 0.43,-1.57 -0,-0.28 0.04,-0.67 -0.1,-0.85l0.03 -0.17c-0,-0.04 -0.01,-0.13 -0.01,-0.15 -0.05,-0.13 -0.03,-0.1 -0.09,-0.17 0.06,-0.51 -0.25,-1.75 -0.94,-2.22 -1.11,-0.74 -1.37,0.09 -1.86,0.69l-0.12 -0.2c-0.28,-0.56 -0.41,-1.06 -1,-1.45 0.04,-1.21 1.29,-5.03 1.31,-5.65 0.07,0.06 0.05,0.04 0.12,0.13 0.63,0.83 0.41,0.6 1.22,1.38 0.76,0.74 1.67,1.73 2.95,1.92 0.28,0.13 0.55,-0.41 0.69,-0.64 0.21,-0.34 0.36,-0.64 0.47,-1.02 0.36,-1.24 0.14,-3.92 -1.03,-4.6 -1.23,-0.72 -1.67,0.89 -1.75,0.72 -0.01,-0.01 -0.03,0.02 -0.04,0.03 -0.19,-0.33 -0.3,-0.68 -0.49,-1 -0.22,-0.38 -0.47,-0.51 -0.68,-0.79 0.39,-1.04 1.05,-2.29 1.59,-3.3 0.57,-1.06 1.2,-2.15 1.7,-3.17 1.43,-0.02 1.51,0.55 1.8,0.6 -0.1,0.19 -0.02,0.07 -0.16,0.2 -0.01,0.01 -0.21,0.13 -0.23,0.15 -0.8,0.47 -1.8,0.96 -1.37,2.09 0.14,0.37 0.42,0.53 0.75,0.73 1.23,0.73 2.46,1.53 4.32,1.53 0.28,-0.08 0.25,-0.15 0.35,-0.44 0.22,-0.63 0.33,-1.22 0.26,-1.93 -0.11,-1.05 -1.06,-3.33 -2.21,-3.65 -1.31,-0.37 -1.17,0.6 -1.56,1.21l-0.2 -0.19c-0.84,-0.96 -0.61,-0.56 -1.27,-1.09 0.16,-0.47 0.7,-1.32 0.98,-1.82 1.05,-1.91 1.94,-3.59 2.84,-5.61 0.73,0.01 1.23,0.31 1.57,0.68 -0.26,0.25 -1.37,0.7 -1.67,1.19 -0.51,0.8 -0.07,1.45 0.63,1.87 1.15,0.7 2.56,1.58 4.34,1.55 0.33,-0.09 0.46,-0.67 0.52,-0.98 0.28,-1.4 -0.01,-2.34 -0.66,-3.5 -0.49,-0.87 -0.67,-1.3 -1.44,-1.54 -1.15,-0.36 -1.27,0.44 -1.56,1.23 -0.65,-0.55 0.03,-0.23 -1.38,-1.25 0.22,-0.6 1.08,-2.59 1.06,-3.14 0.38,-0.35 0.52,-0.78 0.43,-1.4 0.22,-0.75 0.67,-4.16 0.53,-5 0.32,0.09 0.75,0.4 1.06,0.57 0.35,0.2 0.71,0.39 1.06,0.57 0.73,0.38 1.61,0.62 2.65,0.61 0.58,-0.21 0.64,-1.82 0.61,-2.32 -0.04,-0.79 -0.45,-1.64 -0.77,-2.19 -0.39,-0.68 -0.64,-1.3 -1.45,-1.52 -1.33,-0.36 -1.16,0.63 -1.55,1.24 -0.67,-0.66 -0.61,-0.87 -1.64,-1.37 -0.06,-2.55 -0.87,-5.97 -0.9,-6.74l0.15 -0.03 0.01 -0.03zm-14.34 62.71l-0.02 1.23c-0.17,-0.13 -0.38,-0.3 -0.62,-0.45 -0.2,-0.13 -0.4,-0.21 -0.59,-0.39 0.26,-0.28 0.65,-0.51 1.16,-0.55l0.07 0.15zm14.26 -66.46c-0.03,0.28 0.03,0.13 -0.15,0.29 -0.01,0.01 -0.24,0.12 -0.24,0.13 -0.22,0.12 -0.24,0.17 -0.54,0.21 0.01,-0.4 -0.17,-0.77 -0.25,-1.14 0.63,0.03 0.9,0.46 1.18,0.51zm-14.86 55.33c0.15,-0.05 0.34,-0.22 0.51,-0.31 0.29,-0.15 0.4,-0.14 0.78,-0.16 -0.03,0.41 -0.14,0.81 -0.08,1.19 -0.26,0.14 -0.08,0.13 -0.34,-0.03 -0.26,-0.16 -0.76,-0.47 -0.88,-0.69zm2.5 -3.73c0.16,-0.41 0.11,-0.97 0.32,-1.32 0.3,0.08 0.44,0.22 0.64,0.41 0.2,0.19 0.27,0.36 0.41,0.49 -0.16,0.21 0.06,0.08 -0.33,0.21 -0.1,0.03 -0.26,0.05 -0.36,0.08 -0.23,0.05 -0.43,0.12 -0.68,0.14zm0.14 8.74l-1.08 0.27c-0.09,-0.08 -0.07,0.14 -0.08,-0.17l0.07 -1.1c0.51,0.12 0.97,0.57 1.09,1.01zm-0.43 8.78c-0.17,0.02 -0.31,0.07 -0.44,0.1 -0.01,0 -0.23,0.03 -0.24,0.03 -0.22,-0.04 0,0.16 -0.14,-0.1l-0.01 -0.9c0.37,0.15 0.68,0.48 0.83,0.88zm7.48 -41.68c0.31,-0.02 0.51,-0.13 0.93,-0.12 0.35,0 0.54,0.09 0.82,0.17 -0.11,0.53 -0.59,0.91 -0.64,1.43 -0.25,-0.04 -0.12,0.01 -0.27,-0.15l-0.84 -1.31zm4.93 -8.23c-0.27,-0 -0.43,-0.17 -0.68,-0.32 -0.41,-0.23 -0.51,-0.16 -0.64,-0.47 0.15,-0.04 0.4,-0.31 0.62,-0.42 0.29,-0.15 0.49,-0.18 0.85,-0.23 0.05,0.51 -0.12,0.95 -0.14,1.43zm-12.94 26.21c0.63,-0.04 0.61,-0.21 1.47,-0.11l-0.33 1.55c-0.33,-0.14 -0.22,-0.21 -0.62,-0.71 -0.32,-0.39 -0.42,-0.39 -0.52,-0.74zm15.47 -33.38c-0.15,0.29 -0.36,0.33 -0.67,0.51 -0.26,0.15 -0.4,0.29 -0.69,0.42 -0.01,-0.23 0.02,-0.53 -0.08,-0.67l0.03 -0.86c0.33,0.01 0.6,0.1 0.83,0.21 0.22,0.11 0.42,0.34 0.58,0.38zm-12.41 30.37c0.14,-0.37 0.45,-1.36 0.68,-1.6 0.66,0.19 1.09,0.56 1.31,1.14 -0.34,0.04 -0.75,0.16 -1.08,0.25 -0.9,0.24 -0.77,0.49 -0.91,0.21z"
                                                                ></path>
                                                            </g>
                                                        </svg>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>`;
                });
                searchResult.style.display = "";
                listItemSearch.innerHTML = dataJson.join("");
            })
            .catch((error) => console.error("Error:", error));
    }

    function showModal(data) {
        console.log(data);
    }

    let currentIndex = 0;
    const itemsPerPage = 3;
    function renderDetail(obj) {
        renderObj.innerHTML = "";
        let itemsToRender = obj.slice(
            currentIndex,
            currentIndex + itemsPerPage
        );
        if (!itemsToRender.length) return;
        for (let item of itemsToRender) {
            renderObj.innerHTML += `
            <div class="card mb-10" style="cursor: pointer; width: 80%;">
                <div class="card-body">
                    <div class="d-flex justify-content-between"><b class="mt-1 font-weight-bold">${
                        item.title
                    }</b><ion-icon name="heart-outline"></ion-icon></div>
                    <h6 class="card-subtitle mb-4 text-muted">${
                        item.servings
                    }</h6>
                    <div class="mb-2">
                        <div class="card-text"><b>Ingredients: </b><br><div class="pl-3">${convertString(
                            item.ingredients
                        )}</div></div>
                    </div>
                    <div>
                        <div class="card-text"><b>Instructions: </b><br><div class="pl-3">${convertStringDotded(
                            item.instructions
                        )}</div></div>
                    </div>
                </div>
            </div>`;
        }
        currentIndex += itemsPerPage;

        if (currentIndex >= obj.length) {
            document.getElementById("seeMore").style.display = "none";
            document.getElementById("seeLess").style.display = "block";
        }
    }
    function renderDetailSeeLess() {
        currentIndex = 0;
        renderDetail();

        document.getElementById("seeLess").style.display = "none";
        document.getElementById("seeMore").style.display = "block";
    }
    document.getElementById("seeMore").addEventListener("click", renderDetail);
    document
        .getElementById("seeLess")
        .addEventListener("click", renderDetailSeeLess);

    function displayImage(input) {
        const file = input.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imageResult.setAttribute("src", e.target.result);
            };
            reader.readAsDataURL(file);
        }
    }

    function scrollToView() {
        takePicture.scrollIntoView({ behavior: "smooth" });
    }
    searchButton.addEventListener("click", scrollToView);
    submitButton.addEventListener("click", scrollToView);

    function ssPreloader() {
        const preloader = document.querySelector("#preloader");
        const loader = document.querySelector("#preloader");
        preloader.classList.add("custom-loading-preloader");
        loader.classList.add("custom-loading-loader");
    }

    function resetFrame() {
        takePicture.style.display = "none";
        context.clearRect(0, 0, canvas.width, canvas.height);
        photoId.value = "";
        searchButton.style.display = "none";
        searchResult.style.display = "none";
        searchName.value = "";
    }
</script>
